# Предсказание волатильности на российском фондовом и валютном рынке методами анализа новостных и аналитических текстов.

_**Волатильность на фондовом и валютном рынке (особенно не реализованная, а вмененная волатильность в опционах), в основном, отражает уровень рыночной неопределенности в будущих движениях цен активов. Идея – проанализировать тексты новостей о рынке, аналитических записок, постов в соцсетях и т.д. методами Natural Language Processing и сконструировать “Fear Index” на основе анализа тональности для построения предсказания волатильности на российских рынках финансовых инструментов.**_

## Важные детали:
Используемый таймфрейм – дневное или недельное изменение, так как стандартные сроки, которые торгует весь рынок именно такие (еще торгуются опционы на 2-3 года, но в таком случае это скорее не стандартные опционы, а экзотические, доступа к данным которых у нас нет)
Возможно решать проблему не регрессии, а классификации: есть 3 группы (+x% прибыль, -x% убыток и нейтральная группа), сравнить разницу в метриках

## Предварительный список сайтов (первые 5, далее список будет дополняться):
* https://www.rbc.ru/economics/
* https://cbonds.ru/news/
* https://m.ru.investing.com/news/most-popular-news (потом отфильтруем релевантные для РФ)
* https://m.ru.investing.com/analysis/most-popular-analysis
* https://www.tinkoff.ru/invest/research/

## Предварительный список телеграм-каналов (первые 10, далее список будет дополняться):
* https://t.me/bitkogan
* https://t.me/russianmacro
* https://t.me/warwisdom
* https://t.me/themovchans
* https://t.me/v_tsuprov
* https://t.me/skybond
* https://t.me/alfawealth
* https://t.me/RSHB_Invest
* https://t.me/headlines_quants
* https://t.me/cbrstocks

## Задачи (предварительно):
_Предобработка данных_:
* ТАНЯ Парсинг веб-страниц для получения текстов статей с таймстемпами выхода и источником
* ТАНЯ Получение доступа к API Телеграма для получения постов в режиме лайв
* ТАНЯ Парсинг Телеграм-каналов для получения текстов статей с таймстемпами выхода и источником
* ЭДИК Подключение к REST API для парсинга аналитических записок из электронной почты
* ЭДИК Проработка подключения к API Московской биржи (или как замена — парсинг веб-сайта Мосбиржи для получения данных)
* СЛАВА Получение исторических данных из стаканов опцинов на Московкой биржи
* СЛАВА Написание бэктестера цен опционов — прайсинг ванильного колла и пута для получения имплайд волатильности, расчёт дельты. Построение 1. Дельта-нейтральной позиции. 2. Дельта и гамма-нейтральной позиции. 3. Дельта и вега-нейтральной позиции.
* СЛАВА Формирование целевой переменной для обучающей выборки (версия 1) — расчёт уровня прибыли/убытка по опционной позиции бэктестера в выбранном таймфрейме.

_Предобработка данных_ (доп. задачи):
* (?) Посты с форумов о рынке / комментарии в постах в Телеграме / сообщения в чатах про рынок

_Анализ данных и визуализация_:
* Собрать данные новостей, аналитики и постов из социальных сетей (используя такие источники как РБК, Cbonds, профильные Телеграм-каналы и так далее)
* Определить список ключевых слов, которые могут являться полезными предиктами настроения рынка
* Разметить слова в группы “позитивных” и “негативных”, попробовать построить анализ на основе ручной классификации (допустим, просто по количеству слов в категории “позитивных” против “негативных”)
* Разметить слова в большее количество групп (“крайне позитивные”, “позитивные” и т.д.)
* Проверить стационарность фичей в анализе с помощью методов эконометрики (допустим, линейной регрессии)
* Добавление в анализ эконометрических моделей, проверка дополнительного влияния таких факторов как ожидаемая инфляция, прогнозный ВВП и т.д.
* Добавление “эмпирических” весов источников на основе их “надежности” (для сравнения с весами, которые получатся в ML модели)
_ML_:
* Нормализация фичей (допустим, правильно брать не волатильность, а волатильность/(бид-оффер спред), чтобы учитывать структурные изменения в рынке)
* Классификация текстов при помощи ML моделей
* Анализ уровня предсказательной мощности моделей на разные финансовые параметры
* Кластеризация сигналов из источников на “позитивные” и “негативные” для прибыли/убытка разных стратегий торговли волатильностью
_DL_:
* Классификация новостей с помощью DL-моделей
* Тематическое моделирование
* Применение библиотек для морфологического, синтаксического и семантического анализа текстов
_Финализация и анализ результатов_:
* Визуализация полученного индекса (на основе CNN Fear/Greed Index)
* Тестирование предсказаний на реализованной волатильности в рыночных данных
* Тестирование торговой стратегии на реальных рыночных данных опционов USDRUB / EURRUB (возможно, опционы на iMOEX, отдельные акции и так далее)

_Дополнительные задачи_ (предварительно):
* Анализ на основе классификации упоминаемых акций (кроме “позитивных” и “негативных” новостей можно разделить акции на “защитные” и “агрессивные” и попробовать построить анализ – возможно, рынок именно через упоминание таких акций предсказывает волатильность)
* Посмотреть предсказание не только At-The-Money волатильности, но и для дальних волатильностей (гипотеза – влияние на дальнюю волатильность может быть сильнее, так как рынок “боится” крайне негативного сценария сильнее. Возможно, построенная модель будет предсказывать такую волатильность лучше)
* Дополнительно написать простую модель на основе фичей из биржевого стакана (списка заявок на покупку и продажу в определенном активе с ценами и объемами) для сравнения с полученными результатами - проверить, улучшает ли NLP стандартные методы анализа рынка при помощи ML/DL
